<div class="sigel-auth-container">
  <div class="sigel-auth-card sigel-auth-card--register">
    <div class="sigel-auth-header">
      <img src="/layout/assets/img/Sigel_Banner3.png" class="sigel-auth-logo" alt="SIGEL">
      <p class="sigel-auth-subtitle">Crie sua conta no SIGEL</p>
    </div>
    <%= simple_form_for(resource, as: resource_name, url: registration_path(resource_name), html: { class: "sigel-auth-form" }) do |f| %>
      <%= f.error_notification message: "Não foi possível salvar. Verifique os erros abaixo:" %>
      <!-- Dados pessoais -->
      <h6 class="sigel-form-section-title">Dados pessoais</h6>
      <div class="sigel-form-grid">
        <div class="sigel-form-group">
          <%= f.input :nome,
            label: "Nome completo *",
            required: true,
            input_html: { class: "sigel-input" } %>
        </div>
        <div class="sigel-form-group">
          <%= f.input :cpf,
            label: "CPF *",
            required: true,
            placeholder: "Somente números",
            hint: "Sem pontos ou traços",
            input_html: { class: "sigel-input", maxlength: 11 } %>
        </div>
      </div>
      <div class="sigel-form-group">
        <%= f.input :email,
          label: "E-mail *",
          required: true,
          placeholder: "seu@email.com",
          input_html: { class: "sigel-input", autocomplete: "email" } %>
      </div>
      <!-- Vínculo institucional -->
      <h6 class="sigel-form-section-title">Vínculo institucional</h6>
      <div class="sigel-form-grid">
        <div class="sigel-form-group">
          <%= f.input :a_unidade_id,
            label: "Unidade",
            collection: AUnidade.all.map { |u| [u.nome_fantasia, u.id] },
            prompt: "Selecione a unidade",
            input_html: { class: "sigel-input" } %>
        </div>
        <div class="sigel-form-group">
          <%= f.input :a_tipo_usuario_id,
            label: "Tipo de usuário",
            collection: ATipoUsuario.all.map { |t| [t.descricao, t.id] },
            prompt: "Selecione o tipo",
            input_html: { class: "sigel-input" } %>
        </div>
      </div>
      <div class="sigel-form-group">
        <%= f.input :a_status_id,
          label: "Status",
          collection: AStatus.all.map { |s| [s.nome, s.id] },
          prompt: "Selecione o status",
          input_html: { class: "sigel-input" } %>
      </div>
      <!-- Segurança -->
      <h6 class="sigel-form-section-title">Segurança</h6>
      <div class="sigel-form-grid">
        <div class="sigel-form-group">
          <%= f.input :password,
            label: "Senha *",
            required: true,
            placeholder: "Mínimo 6 caracteres",
            hint: ("Mínimo #{@minimum_password_length} caracteres" if @minimum_password_length),
            input_html: { class: "sigel-input", autocomplete: "new-password" } %>
        </div>
        <div class="sigel-form-group">
          <%= f.input :password_confirmation,
            label: "Confirmar senha *",
            required: true,
            placeholder: "Repita a senha",
            input_html: { class: "sigel-input", autocomplete: "new-password" } %>
        </div>
      </div>
      <%= f.button :submit, "Criar conta", class: "sigel-btn-primary" %>
      <div class="sigel-auth-footer">
        <span>Já tem uma conta?</span>
        <%= link_to "Entrar", new_session_path(resource_name), class: "sigel-link strong" %>
      </div>
    <% end %>
  </div>
</div>
